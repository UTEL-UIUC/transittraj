% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/trajectory_constructors.R
\name{get_trajectory_fun}
\alias{get_trajectory_fun}
\title{Fits a continuous function of distance versus time interpolating curve.}
\usage{
get_trajectory_fun(
  distance_df,
  interp_method = "monoH.FC",
  use_speeds = TRUE,
  return_group_function = TRUE,
  find_inverse_function = TRUE,
  inv_tol = 0.01
)
}
\arguments{
\item{distance_df}{Dataframe of linear AVL distances. Must include: "trip_id_performed", "event_timestamp", and numeric "distance".}

\item{interp_method}{Optional. The type of interpolation function to be fit. Either "linear", or a spline method from stats::splinefun(). Default is "monoH.FC" (stats::splinefunH()).}

\item{use_speeds}{Optional. A boolean, should curves be constrained by observed AVL speeds? Should only be used with interp_method = "monoH.FC", but monoH.FC does not require speeds. Default is TRUE.}

\item{return_group_function}{Optional. A boolean, should the returned trajectory object be grouped into a single function? If FALSE, will return a list (named by trip_id_performed) of single trajectory objects. Default is TRUE.}

\item{find_inverse_function}{Optional. A boolean, should the numeric inverse function (time ~ distance) be calculated? Default is TRUE.}

\item{inv_tol}{Optional. A numeric in the units of distance_df$distance, the tolerance used when calculating the numeric inverse function. Default is 0.01.}
}
\value{
If return_group_function = TRUE, a grouped trajectory object. If FALSE, a list of single trajectory objects, named by their trip_id_performed.
}
\description{
This function fits a continuous vehicle trajectory function to observed AVL points, returning a trajectory object.
Interpolation can be done linearly (interp_method = "linear"), or via any method support by stats::splinefun().
By default (interp_method = "monoH.FC" and use_speeds = TRUE), a velocity-informed Fritsch-Carlson piecewise cubic polynomial will be fit. Input data must be striclty monotonic.
By default, both a trajectory (distance ~ time) and inverse trajectory (time ~ distance) will be fit. Input data must be striclty monotonic.
If using speeds, interp_method should be monoH.FC. If speeds are not available, ensure use_speeds = FALSE.
}
